(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[19],{173:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(32),r=n(174),c=n(0),i=function(t){var e=Object(c.useState)(null),n=Object(a.a)(e,2),i=n[0],o=n[1];return Object(c.useEffect)((function(){var e=t.current,n=new r.a((function(t,e){t.forEach((function(t,e){o(t.contentRect)}))}));return n.observe(e),function(){n.unobserve(e)}}),[t]),i}},374:function(t,e,n){"use strict";n.r(e);var a=n(32),r=n(33),c=n(173),i=n(48),o=n(54),s=n.n(o),l=n(152),u=n(172),f=n(83),d=n(88),m=n(144),j=n.n(m),b=n(0),O=n.n(b),h=n(142);e.default=O.a.memo((function(t){var e=t.timeseries,n=t.dates,o=t.chartType,m=t.isUniform,j=t.isLog,v=Object(h.a)().t,x=Object(b.useRef)([]),p=Object(b.useRef)(),y=Object(c.a)(p),E=Object(b.useState)(),g=Object(a.a)(E,2),k=g[0],M=g[1];Object(b.useEffect)((function(){M(n[n.length-1])}),[n]),Object(b.useEffect)((function(){var t=n.length,a=y||p.current.getBoundingClientRect(),c=a.width,s=a.height,f=15,d=25,b=c-35,O=s-25,h=l.D().clamp(!0).domain([Object(i.l)(n[0]),Object(i.l)(n[t-1])]).range([d,b]),v=c<480?4:7,E=function(t){return t.attr("class","x-axis").call(l.a(h).ticks(v).tickFormat((function(t){return Object(i.d)(t,"dd MMM")})))},g=function(t,e){t.attr("class","x-axis2").call(l.a(h).tickValues([]).tickSize(0)).select(".domain").style("transform","translateY(".concat(e(0),"px)")),e(0)!==O?t.select(".domain").attr("opacity",.4):t.select(".domain").attr("opacity",0)},k=function(t,e){return t.attr("class","y-axis").call(l.b(e).ticks(4,"0~s").tickPadding(4))},w=l.s(n,(function(t){return Object(i.j)(e[t],o,"active")})),N=l.r(n,(function(t){return Math.max(Object(i.j)(e[t],o,"confirmed"),Object(i.j)(e[t],o,"recovered"),Object(i.j)(e[t],o,"deceased"))})),A=l.y().clamp(!0).domain([w,Math.max(1,1.2*N)]).nice(4).range([O,f]),T=l.z().clamp(!0).domain([Math.max(1,w),Math.max(10,1.2*N)]).nice(4).range([O,f]);function R(){var t=l.t(this)[0],e=h.invert(t),a=(0,l.c((function(t){return Object(i.l)(t)})).left)(n,e,1),r=n[a-1],c=n[a];M(e-Object(i.l)(r)<Object(i.l)(c)-e?r:c)}function C(){M(n[t-1])}x.current.forEach((function(a,c){var s=l.E(a),d=s.transition().duration(r.b),v=r.w[c],x=function(t){return m&&"total"===o&&j&&"tested"!==t?T:m&&"tested"!==t?A:"total"===o&&j?l.z().clamp(!0).domain([Math.max(1,l.s(n,(function(n){return Object(i.j)(e[n],o,t)}))),Math.max(10,1.2*l.r(n,(function(n){return Object(i.j)(e[n],o,t)})))]).nice(4).range([O,f]):l.y().clamp(!0).domain([1.1*Math.min(0,l.s(n,(function(n){return Object(i.j)(e[n],o,t)}))),Math.max(1,1.2*l.r(n,(function(n){return Object(i.j)(e[n],o,t)})))]).nice(4).range([O,f])}(v),p=r.a[v];if(s.select(".x-axis").style("transform","translateY(".concat(O,"px)")).transition(d).call(E),s.select(".x-axis2").transition(d).call(g,x),s.select(".y-axis").style("transform","translateX(".concat(b,"px)")).transition(d).call(k,x),s.selectAll("circle").data(n,(function(t){return t})).join((function(t){return t.append("circle").attr("fill",p).attr("stroke",p).attr("r",2).attr("cy",O).attr("cx",(function(t){return h(Object(i.l)(t))}))})).transition(d).attr("cx",(function(t){return h(Object(i.l)(t))})).attr("cy",(function(t){return x(Object(i.j)(e[t],o,v))})),"total"===o){s.selectAll(".stem").transition(d).attr("y1",x(0)).attr("y2",x(0)).remove();var y,M=l.q().curve(l.d).x((function(t){return h(Object(i.l)(t))})).y((function(t){return x(Object(i.j)(e[t],o,v))}));s.selectAll(".trend").data(t?[n]:[]).join((function(t){return t.append("path").attr("class","trend").attr("fill","none").attr("stroke",p+"50").attr("stroke-width",4).attr("d",M).attr("stroke-dasharray",(function(){return y=this.getTotalLength()})).call((function(t){return t.attr("stroke-dashoffset",y).transition(d).attr("stroke-dashoffset",0)}))}),(function(t){return t.attr("stroke-dasharray",null).transition(d).attrTween("d",(function(t){var e=l.E(this).attr("d"),n=M(t);return Object(u.interpolatePath)(e,n)}))}))}else s.selectAll(".trend").remove(),s.selectAll(".stem").data(n,(function(t){return t})).join((function(t){return t.append("line").attr("class","stem").style("stroke",p+"99").style("stroke-width",4).attr("x1",(function(t){return h(Object(i.l)(t))})).attr("y1",O).attr("x2",(function(t){return h(Object(i.l)(t))})).attr("y2",O)})).transition(d).attr("x1",(function(t){return h(Object(i.l)(t))})).attr("y1",x(0)).attr("x2",(function(t){return h(Object(i.l)(t))})).attr("y2",(function(t){return x(Object(i.j)(e[t],o,v))}));s.selectAll("*").attr("pointer-events","none"),s.on("mousemove",R).on("touchmove",R).on("mouseout",C).on("touchend",C)}))}),[o,y,m,j,e,n]),Object(b.useEffect)((function(){x.current.forEach((function(t){l.E(t).selectAll("circle").attr("r",(function(t){return t===k?4:2}))}))}),[k]);var w=Object(b.useCallback)((function(t){if(k){var n=Object(i.j)(null===e||void 0===e?void 0:e[k],"delta",t);if("total"===o)return n;var a=Object(f.a)(Object(d.a)(Object(i.l)(k),1),{representation:"date"});return n-Object(i.j)(null===e||void 0===e?void 0:e[a],"delta",t)}}),[e,k,o]);return O.a.createElement(O.a.Fragment,null,O.a.createElement("div",{className:"TimeSeries"},r.w.map((function(t,n){var a=w(t);return O.a.createElement("div",{key:t,className:s()("svg-parent","is-".concat(t)),ref:p},k&&O.a.createElement("div",{className:s()("stats","is-".concat(t))},O.a.createElement("h5",{className:"title"},v(Object(i.a)(t))),O.a.createElement("h5",{className:"title"},Object(i.d)(k,"dd MMMM")),O.a.createElement("div",{className:"stats-bottom"},O.a.createElement("h2",null,Object(i.f)(Object(i.j)(null===e||void 0===e?void 0:e[k],o,t))),O.a.createElement("h6",null,"".concat(a>=0?"+":"").concat(Object(i.f)(a))))),O.a.createElement("svg",{ref:function(t){x.current[n]=t},preserveAspectRatio:"xMidYMid meet"},O.a.createElement("g",{className:"x-axis"}),O.a.createElement("g",{className:"x-axis2"}),O.a.createElement("g",{className:"y-axis"})))}))))}),(function(t,e){return!!j()(e.chartType,t.chartType)&&(!!j()(e.isUniform,t.isUniform)&&(!!j()(e.isLog,t.isLog)&&(!!j()(e.stateCode,t.stateCode)&&!!j()(e.dates,t.dates))))}))}}]);
//# sourceMappingURL=TimeSeries.8e7f869b.chunk.js.map